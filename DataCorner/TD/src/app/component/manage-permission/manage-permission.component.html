<app-header></app-header>

<div class="example-button-container">
    <button mat-fab color="primary" aria-label="Example icon button with a home icon" class="backButton"
        (click)="goBack()">
        <span class="material-icons">arrow_back</span>
    </button>
    <h2>Manage Permission</h2>
</div>
<mat-card>
    <mat-card-content>
      <div class="mat-elevation-z4">
        <div class="table-responsive">
          <table mat-table [dataSource]="dataSource" matSort class="table table-striped table-hover">
            <ng-container *ngFor="let column of selectedColumns">
              <ng-container [matColumnDef]="column">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ column }}</th>
                <td mat-cell *matCellDef="let user; let i = index">
                    <ng-container *ngIf="column !== 'serialNumber'">{{ user[column] }}</ng-container> 
                    <mat-checkbox *ngIf="column !== 'RoleName'" [checked]="isColumnSelected(column, user.RoleName)" (change)="toggleColumnSelection($event, column, user)"></mat-checkbox>
           
                </td>
              </ng-container>
            </ng-container>          
            <tr mat-header-row *matHeaderRowDef="selectedColumns" ></tr>
            <tr mat-row *matRowDef="let row; columns: selectedColumns; let even = even; let odd = odd"
              [class.even-row]="even" [class.odd-row]="odd"></tr>
          </table>
        </div>
      </div>
    </mat-card-content>
</mat-card>